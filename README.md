# ShaPhoto - ç…§ç‰‡ç®¡ç†åº”ç”¨

ShaPhoto æ˜¯ä¸€ä¸ªåŸºäº Flutter å’Œ Flask çš„ç…§ç‰‡ç®¡ç†åº”ç”¨ï¼Œæ”¯æŒäº‘ç«¯å­˜å‚¨ã€äººç‰©æ ‡ç­¾ç®¡ç†å’Œæ™ºèƒ½æœç´¢åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ“± å‰ç«¯åŠŸèƒ½ï¼ˆFlutterï¼‰

**ä¸»è¦åŠŸèƒ½ï¼š**
1. **æµè§ˆäº‘ç«¯ç…§ç‰‡** - æ”¯æŒæ—¶é—´çº¿å’Œç€‘å¸ƒæµå±•ç¤ºï¼ŒæŒ‰å¹´ä»£åˆ†ç»„æ˜¾ç¤º
2. **äººç‰©æ ‡ç­¾ç®¡ç†** - ä¸ºæ¯å¼ ç…§ç‰‡æ·»åŠ äººç‰©å§“åæ ‡ç­¾
3. **æ™ºèƒ½æœç´¢** - é€šè¿‡å§“åå…³é”®è¯æœç´¢ç›¸å…³ç…§ç‰‡

**æ¬¡è¦åŠŸèƒ½ï¼š**
4. **ç…§ç‰‡ä¸Šä¼ ** - ä»æ‰‹æœºç›¸å†Œé€‰æ‹©æˆ–æ‹ç…§ä¸Šä¼ 
5. **ç…§ç‰‡ä¿¡æ¯ç¼–è¾‘** - ä¸Šä¼ æ—¶å¡«å†™æ‹æ‘„å¹´ä»£ã€äººç‰©æ ‡ç­¾ç­‰ä¿¡æ¯

### â˜ï¸ åç«¯åŠŸèƒ½ï¼ˆFlaskï¼‰

**API æ¥å£ï¼š**
- `GET /photos` - è·å–æ‰€æœ‰ç…§ç‰‡ï¼ˆåŒ…å«æ—¶é—´æˆ³ã€æ ‡ç­¾ã€å›¾ç‰‡URLï¼‰
- `GET /search?name=å¼ ä¸‰` - æŒ‰å§“åå…³é”®è¯æœç´¢ç…§ç‰‡
- `POST /upload` - ä¸Šä¼ ç…§ç‰‡åŠæ ‡ç­¾ä¿¡æ¯
- `POST /tag` - ä¸ºå·²æœ‰ç…§ç‰‡æ·»åŠ æˆ–æ›´æ–°æ ‡ç­¾

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Flutter** - è·¨å¹³å°ç§»åŠ¨åº”ç”¨æ¡†æ¶
- **Provider** - çŠ¶æ€ç®¡ç†
- **HTTP** - API é€šä¿¡
- **Image Picker** - ç…§ç‰‡é€‰æ‹©å’Œæ‹æ‘„
- **Cached Network Image** - å›¾ç‰‡ç¼“å­˜å’ŒåŠ è½½
- **Photo View** - å›¾ç‰‡æŸ¥çœ‹å’Œç¼©æ”¾
- **Flutter Staggered Grid View** - ç€‘å¸ƒæµå¸ƒå±€
- **Dropdown Search** - æœç´¢ä¸‹æ‹‰æ¡†

### åç«¯
- **Flask** - Python Web æ¡†æ¶
- **Supabase** - æ•°æ®åº“å’Œæ–‡ä»¶å­˜å‚¨
- **Render** - äº‘éƒ¨ç½²å¹³å°

## é¡¹ç›®ç»“æ„

```
shaphoto/
â”œâ”€â”€ lib/                          # Flutterå‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ photo.dart            # ç…§ç‰‡æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api_service.dart      # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ photo_provider.dart   # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ home_screen.dart      # ä¸»å±å¹•
â”‚   â”‚   â”œâ”€â”€ upload_screen.dart    # ä¸Šä¼ å±å¹•
â”‚   â”‚   â””â”€â”€ photo_detail_screen.dart # ç…§ç‰‡è¯¦æƒ…
â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ photo_grid.dart       # ç…§ç‰‡ç½‘æ ¼ç»„ä»¶
â”‚   â”‚   â””â”€â”€ search_bar.dart       # æœç´¢æ ç»„ä»¶
â”‚   â””â”€â”€ main.dart                 # åº”ç”¨å…¥å£
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ fonts/
â”œâ”€â”€ app.py                        # Flaskåç«¯API
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–
â”œâ”€â”€ database_schema.sql           # æ•°æ®åº“ç»“æ„
â”œâ”€â”€ render.yaml                   # Renderéƒ¨ç½²é…ç½®
â”œâ”€â”€ env.example                   # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ BACKEND_README.md             # åç«¯æ–‡æ¡£
â””â”€â”€ pubspec.yaml                  # Flutterä¾èµ–é…ç½®
```

## å¿«é€Ÿå¼€å§‹

### 1. åç«¯è®¾ç½®

#### 1.1 åˆ›å»ºSupabaseé¡¹ç›®
1. è®¿é—® [Supabase](https://supabase.com) åˆ›å»ºæ–°é¡¹ç›®
2. åœ¨SQLç¼–è¾‘å™¨ä¸­æ‰§è¡Œ `database_schema.sql` åˆ›å»ºè¡¨ç»“æ„
3. åˆ›å»ºStorage bucketåä¸º `photos` å¹¶è®¾ç½®ä¸ºå…¬å¼€è®¿é—®
4. è·å–é¡¹ç›®URLå’ŒAPIå¯†é’¥

#### 1.2 é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `env.example` ä¸º `.env`ï¼š
```bash
SUPABASE_URL=your-supabase-project-url
SUPABASE_KEY=your-supabase-anon-key
FLASK_ENV=development
FLASK_DEBUG=True
```

#### 1.3 æœ¬åœ°è¿è¡Œåç«¯
```bash
pip install -r requirements.txt
python app.py
```

#### 1.4 éƒ¨ç½²åˆ°Render
1. å°†ä»£ç æ¨é€åˆ°GitHub
2. åœ¨Renderä¸­è¿æ¥GitHubä»“åº“
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š`SUPABASE_URL` å’Œ `SUPABASE_KEY`
4. éƒ¨ç½²æœåŠ¡

### 2. å‰ç«¯è®¾ç½®

#### 2.1 å®‰è£…ä¾èµ–
```bash
flutter pub get
```

#### 2.2 é…ç½®åç«¯URL
åœ¨ `lib/services/api_service.dart` ä¸­æ›´æ–° `baseUrl`ï¼š
```dart
static const String baseUrl = 'https://your-flask-app.onrender.com';
```

#### 2.3 è¿è¡Œåº”ç”¨
```bash
flutter run
```

## ä½¿ç”¨è¯´æ˜

### æµè§ˆç…§ç‰‡
- åº”ç”¨å¯åŠ¨åè‡ªåŠ¨åŠ è½½äº‘ç«¯ç…§ç‰‡
- ç…§ç‰‡æŒ‰å¹´ä»£åˆ†ç»„æ˜¾ç¤ºï¼ˆå¦‚"1980å¹´ä»£"ã€"2020å¹´ä»£"ï¼‰
- æ”¯æŒç€‘å¸ƒæµå¸ƒå±€ï¼Œç‚¹å‡»ç…§ç‰‡æŸ¥çœ‹è¯¦æƒ…

### æœç´¢åŠŸèƒ½
- åœ¨æœç´¢æ¡†è¾“å…¥äººç‰©å§“å
- å®æ—¶æœç´¢ç›¸å…³ç…§ç‰‡
- æ”¯æŒå·²æœ‰æ ‡ç­¾çš„å¿«é€Ÿé€‰æ‹©

### ä¸Šä¼ ç…§ç‰‡
1. ç‚¹å‡»å³ä¸‹è§’çš„"+"æŒ‰é’®
2. é€‰æ‹©"ä»ç›¸å†Œé€‰æ‹©"æˆ–"æ‹ç…§"
3. æ·»åŠ äººç‰©æ ‡ç­¾ï¼ˆæ”¯æŒé€‰æ‹©å·²æœ‰æ ‡ç­¾æˆ–è¾“å…¥æ–°æ ‡ç­¾ï¼‰
4. é€‰æ‹©æ‹æ‘„å¹´ä»£ï¼ˆå¯é€‰ï¼‰
5. æ·»åŠ æè¿°ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
6. ç‚¹å‡»"ä¸Šä¼ ç…§ç‰‡"

### ç…§ç‰‡è¯¦æƒ…
- ç‚¹å‡»ç…§ç‰‡è¿›å…¥è¯¦æƒ…é¡µé¢
- æ”¯æŒå›¾ç‰‡ç¼©æ”¾å’ŒæŸ¥çœ‹
- æ˜¾ç¤ºå®Œæ•´çš„äººç‰©æ ‡ç­¾ã€å¹´ä»£ã€æè¿°ç­‰ä¿¡æ¯

## APIæ–‡æ¡£

è¯¦ç»†çš„APIæ–‡æ¡£è¯·å‚è€ƒ [BACKEND_README.md](BACKEND_README.md)

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `lib/models/` ä¸­æ·»åŠ æ•°æ®æ¨¡å‹
2. åœ¨ `lib/services/` ä¸­æ·»åŠ ä¸šåŠ¡é€»è¾‘
3. åœ¨ `lib/screens/` æˆ– `lib/widgets/` ä¸­æ·»åŠ  UI ç»„ä»¶
4. æ›´æ–°çŠ¶æ€ç®¡ç†ï¼ˆå¦‚éœ€è¦ï¼‰

### è‡ªå®šä¹‰æ ·å¼
- ä¸»é¢˜é…ç½®åœ¨ `lib/main.dart` ä¸­
- é¢œè‰²æ–¹æ¡ˆä½¿ç”¨ Material 3 è®¾è®¡ç³»ç»Ÿ
- æ”¯æŒæ·±è‰²æ¨¡å¼ï¼ˆå¾…å®ç°ï¼‰

## éƒ¨ç½²è¯´æ˜

### å‰ç«¯éƒ¨ç½²
- æ”¯æŒ Androidã€iOSã€Web å¹³å°
- ä½¿ç”¨ `flutter build` å‘½ä»¤æ„å»º

### åç«¯éƒ¨ç½²
- éƒ¨ç½²åˆ° Render å¹³å°
- é…ç½® Supabase è¿æ¥
- è®¾ç½®ç¯å¢ƒå˜é‡

## æµ‹è¯•

### åç«¯APIæµ‹è¯•
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:5000/health

# è·å–ç…§ç‰‡
curl http://localhost:5000/photos

# æœç´¢ç…§ç‰‡
curl "http://localhost:5000/search?name=å¼ ä¸‰"
```

### å‰ç«¯æµ‹è¯•
```bash
flutter test
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
